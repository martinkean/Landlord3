<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Analytics - Flat Finder Landlord</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/sidebar.css">
  <link rel="stylesheet" href="css/analytics.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="app-container">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <div class="house-icon">
            <div class="roof"></div>
            <div class="base"></div>
          </div>
          <h1>FLAT FINDER LANDLORD</h1>
        </div>
      </div>
      
      <nav class="sidebar-nav">
        <a href="index.html" class="nav-item">
          <div class="nav-icon dashboard-icon"></div>
          <span>Dashboard</span>
        </a>
        <a href="listings.html" class="nav-item">
          <div class="nav-icon listings-icon"></div>
          <span>Listings</span>
        </a>
        <a href="applications.html" class="nav-item">
          <div class="nav-icon applications-icon"></div>
          <span>Applications</span>
        </a>
        <a href="calendar.html" class="nav-item">
          <div class="nav-icon calendar-icon"></div>
          <span>Calendar</span>
        </a>
        <a href="messages.html" class="nav-item">
          <div class="nav-icon messages-icon"></div>
          <span>Messages</span>
        </a>
        <a href="analytics.html" class="nav-item active">
          <div class="nav-icon analytics-icon"></div>
          <span>Analytics</span>
        </a>
        <a href="#" class="nav-item logout">
          <div class="nav-icon logout-icon"></div>
          <span>Log out</span>
        </a>
      </nav>
      
      <div class="user-profile">
        <div class="avatar">
          <div class="avatar-placeholder">AJ</div>
        </div>
        <div class="user-info">
          <h3 class="user-name">Andrew James</h3>
          <p class="user-email">AJ@cutlers.co.nz</p>
        </div>
      </div>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content">
      <div class="page-header">
        <h1 class="page-title">Analytics</h1>
      </div>
      
      <div class="analytics-grid">
        <!-- Stats Cards Row 1 -->
        <div class="analytics-card">
          <h2>Total Swipe</h2>
          <div class="analytics-number">36</div>
          <p class="analytics-description">Across all listings</p>
        </div>
        
        <div class="analytics-card">
          <h2>Interested (Swiped Right)</h2>
          <div class="analytics-number">20</div>
          <p class="analytics-description">Total "Interested" actions</p>
        </div>
        
        <!-- Stats Cards Row 2 -->
        <div class="analytics-card">
          <h2>Passed (Swiped Left)</h2>
          <div class="analytics-number">16</div>
          <p class="analytics-description">Total "Passed" Actions</p>
        </div>
        
        <div class="analytics-card">
          <h2>Overall Interest Rate</h2>
          <div class="analytics-number">56%</div>
          <div class="progress-bar">
            <div class="progress-fill"></div>
          </div>
        </div>
        
        <!-- Charts -->
        <div class="chart-card wide">
          <h2>Market Rent Demand</h2>
          <p class="chart-description">Distribution of rent prices for listings users are interested in</p>
              </div>
            </div>
            <div class="rent-pie-chart">
              <div class="pie-chart-container">
                <div class="pie-segment price-200-250" style="--percentage: 37.5%"></div>
                <div class="pie-segment price-250-300" style="--percentage: 30%"></div>
                <div class="pie-segment price-300-350" style="--percentage: 20%"></div>
                <div class="pie-segment price-350-plus" style="--percentage: 12.5%"></div>
              </div>
              <div class="chart-legend">
                <div class="legend-item">
                  <div class="legend-color price-200-250"></div>
                  <div class="legend-text">$200-250 (37.5%)</div>
                </div>
                <div class="legend-item">
                  <div class="legend-color price-250-300"></div>
                  <div class="legend-text">$250-300 (30%)</div>
                </div>
                <div class="legend-item">
                  <div class="legend-color price-300-350"></div>
                  <div class="legend-text">$300-350 (20%)</div>
                </div>
                <div class="legend-item">
                  <div class="legend-color price-350-plus"></div>
                  <div class="legend-text">$350+ (12.5%)</div>
                </div>
          <canvas id="rentDemandChart"></canvas>
        </div>
        
        <div class="chart-card wide">
          <h2>Swipe Distribution</h2>
          <p class="chart-description">Break down of interested vs. passed swipes</p>
          <canvas id="swipeDistributionChart"></canvas>
        </div>
        
        <div class="chart-card wide">
          <h2>Top Performing Listings</h2>
          <p class="chart-description">Your listings with the highest interest rates</p>
          <canvas id="topListingsChart"></canvas>
        </div>
        
        <div class="chart-card wide">
          <h2>Listings Needing Attention</h2>
          <p class="chart-description">Your listings with low interest rates</p>
          <canvas id="attentionListingsChart"></canvas>
        </div>
      </div>
      
      <script>
        // Market Rent Demand Chart
        const rentDemandCtx = document.getElementById('rentDemandChart').getContext('2d');
        new Chart(rentDemandCtx, {
          type: 'bar',
          data: {
            labels: ['$200-250', '$250-300', '$300-350', '$350+'],
            datasets: [{
              label: 'Interest Rate',
              data: [75, 60, 40, 25],
              backgroundColor: [
                '#14B8A6',
                '#0D9488',
                '#0F766E',
                '#134E4A'
              ],
              borderRadius: 6
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
                max: 100,
                ticks: {
                  callback: value => value + '%'
                }
              }
            },
            plugins: {
              legend: {
                display: false
              }
            }
          }
        });

        // Swipe Distribution Chart
        const swipeDistributionCtx = document.getElementById('swipeDistributionChart').getContext('2d');
        new Chart(swipeDistributionCtx, {
          type: 'doughnut',
          data: {
            labels: ['Interested', 'Passed'],
            datasets: [{
              data: [56, 44],
              backgroundColor: [
                '#FFC3C2',
                '#A6E7AB'
              ],
              borderWidth: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: 'right'
              }
            }
          }
        });

        // Top Performing Listings Chart
        const topListingsCtx = document.getElementById('topListingsChart').getContext('2d');
        new Chart(topListingsCtx, {
          type: 'bar',
          data: {
            labels: ['33 Bedford Street', '78 George Street'],
            datasets: [{
              label: 'Interest Rate',
              data: [85, 75],
              backgroundColor: '#22C55E',
              borderRadius: 6
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            scales: {
              x: {
                beginAtZero: true,
                max: 100,
                ticks: {
                  callback: value => value + '%'
                }
              }
            },
            plugins: {
              legend: {
                display: false
              }
            }
          }
        });

        // Listings Needing Attention Chart
        const attentionListingsCtx = document.getElementById('attentionListingsChart').getContext('2d');
        new Chart(attentionListingsCtx, {
          type: 'bar',
          data: {
            labels: ['123 Castle Street', '45 Dundas Street'],
            datasets: [{
              label: 'Interest Rate',
              data: [25, 30],
              backgroundColor: '#F97316',
              borderRadius: 6
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            scales: {
              x: {
                beginAtZero: true,
                max: 100,
                ticks: {
                  callback: value => value + '%'
                }
              }
            },
            plugins: {
              legend: {
                display: false
              }
            }
          }
        });
      </script>
    </main>
  </div>
</body>
</html>