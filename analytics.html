<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Analytics - Flat Finder Landlord</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/sidebar.css">
  <link rel="stylesheet" href="css/analytics.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="app-container">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <div class="house-icon">
            <div class="roof"></div>
            <div class="base"></div>
          </div>
          <h1>FLAT FINDER LANDLORD</h1>
        </div>
      </div>
      
      <nav class="sidebar-nav">
        <a href="index.html" class="nav-item">
          <div class="nav-icon dashboard-icon"></div>
          <span>Dashboard</span>
        </a>
        <a href="listings.html" class="nav-item">
          <div class="nav-icon listings-icon"></div>
          <span>Listings</span>
        </a>
        <a href="applications.html" class="nav-item">
          <div class="nav-icon applications-icon"></div>
          <span>Applications</span>
        </a>
        <a href="calendar.html" class="nav-item">
          <div class="nav-icon calendar-icon"></div>
          <span>Calendar</span>
        </a>
        <a href="messages.html" class="nav-item">
          <div class="nav-icon messages-icon"></div>
          <span>Messages</span>
        </a>
        <a href="analytics.html" class="nav-item active">
          <div class="nav-icon analytics-icon"></div>
          <span>Analytics</span>
        </a>
        <a href="#" class="nav-item logout">
          <div class="nav-icon logout-icon"></div>
          <span>Log out</span>
        </a>
      </nav>
      
      <div class="user-profile">
        <div class="avatar">
          <div class="avatar-placeholder">AJ</div>
        </div>
        <div class="user-info">
          <h3 class="user-name">Andrew James</h3>
          <p class="user-email">AJ@cutlers.co.nz</p>
        </div>
      </div>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content">
      <div class="page-header">
        <h1 class="page-title">Analytics</h1>
      </div>
      
      <div class="analytics-grid">
        <!-- Stats Cards Row 1 -->
        <div class="analytics-card">
          <h2>Total Swipe</h2>
          <div class="analytics-number">36</div>
          <p class="analytics-description">Across all listings</p>
        </div>
        
        <div class="analytics-card">
          <h2>Interested (Swiped Right)</h2>
          <div class="analytics-number">20</div>
          <p class="analytics-description">Total "Interested" actions</p>
        </div>
        
        <!-- Stats Cards Row 2 -->
        <div class="analytics-card">
          <h2>Passed (Swiped Left)</h2>
          <div class="analytics-number">16</div>
          <p class="analytics-description">Total "Passed" Actions</p>
        </div>
        
        <div class="analytics-card">
          <h2>Overall Interest Rate</h2>
          <div class="analytics-number">56%</div>
          <div class="progress-bar">
            <div class="progress-fill"></div>
          </div>
        </div>
        
        <!-- Charts -->
        <div class="chart-card wide">
          <h2>Market Rent Demand</h2>
          <p class="chart-description">Distribution of rent prices for listings users are interested in</p>
          <canvas id="rentDemandChart"></canvas>
        </div>
        
        <div class="chart-card wide">
          <h2>Swipe Distribution</h2>
          <p class="chart-description">Break down of interested vs. passed swipes</p>
          <canvas id="swipeDistributionChart"></canvas>
        </div>
        
        <div class="chart-card wide">
          <h2>Top Performing Listings</h2>
          <p class="chart-description">Your listings with the highest interest rates</p>
          <div class="listings-stats">
            <div class="listing-stat">
              <div class="listing-stat-header">
                <h3>33 Bedford Street</h3>
                <span class="interest-rate">85%</span>
              </div>
              <div class="stat-bar">
                <div class="stat-fill success" style="width: 85%"></div>
              </div>
              <p>42 interested / 50 views</p>
            </div>
            <div class="listing-stat">
              <div class="listing-stat-header">
                <h3>78 George Street</h3>
                <span class="interest-rate">75%</span>
              </div>
              <div class="stat-bar">
                <div class="stat-fill success" style="width: 75%"></div>
              </div>
              <p>30 interested / 40 views</p>
            </div>
          </div>
        </div>
        
        <div class="chart-card wide">
          <h2>Listings Needing Attention</h2>
          <p class="chart-description">Your listings with low interest rates</p>
          <div class="listings-stats">
            <div class="listing-stat">
              <div class="listing-stat-header">
                <h3>123 Castle Street</h3>
                <span class="interest-rate">25%</span>
              </div>
              <div class="stat-bar">
                <div class="stat-fill warning" style="width: 25%"></div>
              </div>
              <p>5 interested / 20 views</p>
            </div>
            <div class="listing-stat">
              <div class="listing-stat-header">
                <h3>45 Dundas Street</h3>
                <span class="interest-rate">30%</span>
              </div>
              <div class="stat-bar">
                <div class="stat-fill warning" style="width: 30%"></div>
              </div>
              <p>9 interested / 30 views</p>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Rent Demand Chart
      const ctx = document.getElementById('rentDemandChart').getContext('2d');
      
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['$200', '$250', '$300', '$350', '$400'],
          datasets: [
            {
              label: 'Interest Rate',
              data: [75, 60, 40, 25, 15],
              borderColor: '#14B8A6',
              backgroundColor: 'rgba(20, 184, 166, 0.1)',
              tension: 0.4,
              fill: true,
              pointRadius: 6,
              pointBackgroundColor: '#14B8A6'
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              max: 100,
              title: {
                display: true,
                text: 'Interest Rate (%)'
              }
            },
            x: {
              title: {
                display: true,
                text: 'Rent per Room'
              }
            }
          },
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              callbacks: {
                label: function(context) {
                  return `Interest Rate: ${context.parsed.y}%`;
                }
              }
            }
          }
        }
      });
      
      // Swipe Distribution Chart
      const swipeCtx = document.getElementById('swipeDistributionChart').getContext('2d');
      
      new Chart(swipeCtx, {
        type: 'bar',
        data: {
          labels: ['Swipe Distribution'],
          datasets: [
            {
              label: 'Interested',
              data: [55.6],
              backgroundColor: '#22C55E',
              barPercentage: 0.8
            },
            {
              label: 'Passed',
              data: [44.4],
              backgroundColor: '#F97316',
              barPercentage: 0.8
            }
          ]
        },
        options: {
          indexAxis: 'y',
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: {
              stacked: true,
              max: 100,
              title: {
                display: true,
                text: 'Percentage (%)'
              }
            },
            y: {
              stacked: true,
              display: false
            }
          },
          plugins: {
            legend: {
              position: 'bottom',
              labels: {
                usePointStyle: true,
                padding: 20
              }
            },
            tooltip: {
              callbacks: {
                label: function(context) {
                  return `${context.dataset.label}: ${context.parsed.x}%`;
                }
              }
            }
          }
        }
      });
    });
  </script>
</body>
</html>